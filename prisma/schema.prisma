generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id           Int            @id @default(autoincrement())
  username     String
  email        String         @unique
  password     String
  premium      Boolean        @default(false)
  chats        Chat[]
  Conversation Conversation[]
}

model Conversation {
  id             Int      @id @default(autoincrement())
  conversationID String   @unique
  prompt         String
  gpt            String?
  deepseek       String?
  mistral        String?
  qwen           String?
  chat           Chat     @relation(fields: [chatID], references: [chatUUID])
  user           User     @relation(fields: [userID], references: [id])
  userID         Int
  chatID         String
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model Chat {
  id            Int            @id @default(autoincrement())
  chatUUID      String         @unique
  chatName      String
  user          User           @relation(fields: [userID], references: [id])
  userID        Int
  createdAt     DateTime       @default(now())
  updatedAt     DateTime       @updatedAt
  deleted       Boolean        @default(false)
  conversations Conversation[]
}
